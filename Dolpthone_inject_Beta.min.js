function subscribe(){if(mainalert("Trying to subscribe."),subsound.load(),document.querySelector("#modal-inner-iframe")){let e=new MutationObserver(e=>{libalert("InnerIframeObserver","Successfully detected."),setTimeout(()=>{subsound.play()},800)});e.observe(document.querySelector("#modal-inner-iframe"),{attributes:!0})}else{let e=new MutationObserver(e=>{let t=new MutationObserver(e=>{libalert("InnerIframeObserver","Successfully detected. {Attributes}"),setTimeout(()=>{t.disconnect(),subsound.play()},800)});libalert("AppModalObserver","Successfully detected."),t.observe(document.querySelector("#modal-inner-iframe"),{attributes:!0})});e.observe(document.querySelector('div[data-react-class="App.Modal"]'),{childList:!0})}}function styleChecker(){let e=setInterval(()=>{let e=window.top.document.querySelector("iframe").contentDocument;e.querySelector("link#renewedStyle")||styleApply(e);let t=Array.from(e.querySelectorAll("iframe"));t&&t.forEach(e=>{e.contentDocument.querySelector("link#renewedStyle")||styleApply(e.contentDocument)})},1e3);return libalert("StyleChecker",`Process started and observing nodes. id: ${e}`),e}function styleApply(e){let t=document.createElement("link");t.rel="stylesheet",t.href=dolphoneCSS,t.id="renewedStyle",e.head.appendChild(t)}function videochecker(e){setTimeout(()=>{styleApply();let t=Array.from(document.querySelector("a.is-selected").parentElement.classList);if(t.includes("good")&&t.splice(t.indexOf("good")),t=t[0],libalert("SelectedTypeDetecter",'Selected Item Type is: "'+t+'".'),"movie"==t){let t=setInterval(()=>{let e=window.top.document.querySelector("iframe").contentDocument.querySelector("#video-player");e.duration<=e.currentTime&&(done(),libalertimportant("VideoDurationChecker","process ended."),clearInterval(t))},200);libalertimportant("VideoDurationChecker","process started. by process "+e)}},100)}function done(){console.log("DONE!"),mainalert("Content ended."),setTimeout(()=>{next(),console.log("Next")},1e3);let e=setTimeout(()=>{reinject(),console.log("Subscribe"),clearTimeout(e)},1e4)}function next(){mainalert("Trying to access next content.");const e=window.top.document.getElementsByClassName("u-list")[0].getElementsByTagName("li");let t=0;for(const o in e){const n=e[o].classList;if(!n.contains("good")){if(n.contains("movie")&&!n.contains("supplement"))break;if(n.contains("evaluation-test")||n.contains("essay-test")){notifsound.load(),notifsound.play(),notifsound.addEventListener("ended",()=>{notifsound=""});break}}t+=1}e[t].querySelector("a").click(),setTimeout(()=>{indicatorUpdate()},3e3)}function startup(){if(!document.body.classList.contains("izialready")){let e=window.top.document.createElement("script");e.src="//aika-toki.github.io/others/library/iziToast/iziToast.min.js",e.id="iziToastScript",window.top.document.querySelector("script#di").before(e);let t=document.createElement("link");t.rel="stylesheet",t.href="//aika-toki.github.io/others/library/iziToast/iziToast.min.css",t.id="iziToastStyle",window.top.document.head.appendChild(t);let o=document.createElement("link");o.rel="stylesheet",o.href=dolphoneIndicator,o.id="indicatorStyle",window.top.document.head.appendChild(o);let n=document.createElement("link");n.rel="stylesheet",n.href=dolphoneCSS,n.id="renewedStyle",window.top.document.head.appendChild(n),document.body.classList.add("izialready")}let e=window_5209hbf298hew9jfiowg_Dolpthone_version,t="reinjected"==document.querySelector("script#di").className?"re":"";console.log("[33m[Dolpthone]Ver."+e+" "+t+"loaded."),"re"==t&&mainalert("reinjected."),patchsound.load(),""==window.top.document.querySelector("script#di").className&&setTimeout(()=>{patchsound.play(),window.top.veralart(e),window.top.indicatorsetup()},1e3)}function veralart(e){let t=`version ${e} has applied.`;iziToast.show({position:"bottomRight",title:"Dolphone",message:t,timeout:5e3,messageColor:"#00c541"}),console.log("%cDolphone%c "+t,"color:#000;background-color:#00c541;padding:2px 4px;border-radius:4px;","")}function libalert(e,t){iziToast.show({position:"bottomRight",title:"DolphoneLib - "+e,message:t,timeout:1e3,messageColor:"#4f73e3"}),console.log("%cDolphoneLib - "+e+"%c "+t,"color:#000;background-color:#4f73e3;padding:2px 4px;border-radius:4px;","")}function libalertimportant(e,t){iziToast.show({position:"topRight",title:"DolphoneLib - "+e,message:t,timeout:2e4,messageColor:"#e3734f"}),console.log("%cDolphoneLib - "+e+"%c "+t,"color:#000;background-color:#e3734f;padding:2px 4px;border-radius:4px;","")}function mainalert(e){iziToast.show({position:"bottomRight",title:"Dolphone",message:e,timeout:1e3,messageColor:"#00c541"}),console.log("%cDolphone%c "+e,"color:#000;background-color:#00c541;padding:2px 4px;border-radius:4px;","")}function reinject(){let e=document.querySelector("script#di");null!=e&&document.querySelector("script#di").remove();let t=document.createElement("script");t.src=dolphoneJS,t.id="di",t.className="reinjected",window.top.document.head.appendChild(t)}function indicatorsetup(){let e=setInterval(()=>{let e=document.querySelectorAll("li"),t=null;for(let o=0;o<e.length;o++){let n=e[o].classList;n.contains("movie")&&e[o].querySelector("a").classList.contains("is-selected")&&(t=o)}if(null!==t){t=e[t],movieel=document.querySelector("iframe").contentDocument.querySelector("video");let o=Math.round(movieel.currentTime/movieel.duration*1e3)/10;t.querySelector("a").style.setProperty("--movie-progress",`${o}%`)}},20);libalert("Indicator",`Process started; id: ${e}`)}function indicatorUpdate(){let e=document.querySelectorAll("li");document.querySelector("div.u-card.has-no-padding").querySelector(".u-filter")&&(document.querySelector("#sections-contents > div.l-column-common.section > div.u-card.has-no-padding > div.u-filter > div > div:nth-child(1)").classList.contains("u-filter-active")||document.querySelector("#sections-contents > div.l-column-common.section > div.u-card.has-no-padding > div.u-filter > div > div:nth-child(1)").click());for(let t=0;t<e.length;t++){let o=e[t].classList;if(o.contains("movie"))o.contains("good");else if((o.contains("evaluation-test")||o.contains("essay-test"))&&(o.contains("good"),e[t].querySelector("a").classList.contains("is-selected"))){e[t].classList.add("now"),alertsound.load();let o=setInterval(()=>{alertsound.play()},6e4);finishChecker(t,o)}}setTimeout(videochecker(2),2e3),libalert("Indicator","Indicator Updated.")}function finishChecker(e,t){let o=document.createElement("link");o.rel="stylesheet",o.href=dolphoneCSS,o.id="renewedStyle",window.top.document.querySelector("#modal-inner-iframe").contentDocument.head.appendChild(o);let n=document.querySelectorAll("li")[e],i=setInterval(()=>{n.classList.contains("good")&&(clearInterval(t),clearInterval(i),libalert("TestCorrectChecker","process ended."),n.classList.remove("now"),setTimeout(()=>{done()},5e3))},500);libalert("TestCorrectChecker","process started.")}var window_b9012ye1by98ryn98dy1_Dolpthone_BranchID,dolphoneJS,dolphoneCSS,dolphoneIndicator;window_5209hbf298hew9jfiowg_Dolpthone_version="1.1.0",$.getJSON("https://script.google.com/macros/s/AKfycbyQVJL5Uj3pqJLGSGJTctONz4OIN5xVi_1DLFOy8Qe-n4nt8dSq84laKWZf3Ey4iUKM/exec?id="+ProductKey,e=>{dolphoneJS=e.url,dolphoneCSS=e.css,dolphoneIndicator=e.indicator,window_5209hbf298hew9jfiowg_Dolpthone_version=window_5209hbf298hew9jfiowg_Dolpthone_version+"-"+e.version,void 0===window_b9012ye1by98ryn98dy1_Dolpthone_BranchID&&(window_b9012ye1by98ryn98dy1_Dolpthone_BranchID="1114918"),window_ony98gvayn9fj8hg98ha_Dolpthone_versionType="_Beta",subsound=new Audio("https://aika-toki.github.io/others/library/NotiSound/003_1s.wav"),notifsound=new Audio("https://aika-toki.github.io/others/library/NotiSound/002_3s.wav"),patchsound=new Audio("https://aika-toki.github.io/others/library/NotiSound/001_2s.wav"),alertsound=new Audio("https://aika-toki.github.io/others/library/NotiSound/005_2s.wav"),startup(),setTimeout(()=>{subscribe(),styleChecker(),document.querySelector("iframe")||next()},1e3)});